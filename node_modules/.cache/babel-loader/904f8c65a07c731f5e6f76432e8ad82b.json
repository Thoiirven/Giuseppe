{"ast":null,"code":"import _classCallCheck from\"/mnt/c/Users/kikim/OneDrive/Bureau/Giuseppe/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/mnt/c/Users/kikim/OneDrive/Bureau/Giuseppe/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/mnt/c/Users/kikim/OneDrive/Bureau/Giuseppe/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/mnt/c/Users/kikim/OneDrive/Bureau/Giuseppe/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/mnt/c/Users/kikim/OneDrive/Bureau/Giuseppe/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import React,{Component}from'react';import{BrowserRouter as Router}from\"react-router-dom\";import{BodyHomeBody,PageBody,Titre2,FlexContainer,FlexItem,FlexItemP,FlexItemI,ImagePizza,Form}from'./ListePizzas';import{json,rgb}from'd3';import logo from'../../images/LogoNatan.jpg';var ListePizzas=/*#__PURE__*/function(_Component){_inherits(ListePizzas,_Component);var _super=_createSuper(ListePizzas);function ListePizzas(props){var _this;_classCallCheck(this,ListePizzas);_this=_super.call(this,props);_this.state={PizzasBaseCreme:[],value:[\"Aucun élément choisi\"]};_this.handleChange=_this.handleChange.bind(_assertThisInitialized(_this));_this.handleSubmit=_this.handleSubmit.bind(_assertThisInitialized(_this));return _this;}_createClass(ListePizzas,[{key:\"handleChange\",value:function handleChange(event){var copie=[];if(event.target.value===\"viande\"){copie.push(\"viande\");copie.push(\"Jambon\");copie.push(\"Lardons\");copie.push(\"Poulet\");copie.push(\"Poulet Mariné au citron\");copie.push(\"Kebab\");copie.push(\"Chorizo\");copie.push(\"Viande hachée\");}else{copie.push(event.target.value);}this.setState({value:copie});}},{key:\"handleSubmit\",value:function handleSubmit(event){alert('Votre demande a été soumise');event.preventDefault();console.log(this.state.value);this.ajoutListePizza();}},{key:\"ajoutListePizza\",value:function ajoutListePizza(){var _this2=this;var Ingred=this.state.value;json(\"/data/Pizzas.json\").then(function(value){var copie=[];var base=_this2.props.data;value.forEach(function(element){if(element.Base===base){var copie2=[];var Contient=0;element.Ingrédients.forEach(function(element2){copie2.push({Ingrédient:element2.Ingrédient});if(Ingred.indexOf(element2.Ingrédient)!==-1)Contient=1;});var image=logo;if(Contient===0){copie.push({Nom:element.Nom,Ingrédients:copie2,Prix:element.Prix,Image:image});}}});_this2.setState({PizzasBaseCreme:copie});});}},{key:\"componentDidMount\",value:function componentDidMount(){this.ajoutListePizza();}},{key:\"render\",value:function render(){return/*#__PURE__*/_jsx(Router,{forceRefresh:true,children:/*#__PURE__*/_jsx(BodyHomeBody,{children:/*#__PURE__*/_jsxs(PageBody,{children:[/*#__PURE__*/_jsxs(Titre2,{children:[\"Nos pizzas disponibles avec une base \",this.props.data]}),/*#__PURE__*/_jsxs(Form,{onSubmit:this.handleSubmit,children:[/*#__PURE__*/_jsxs(\"label\",{children:[\"Choisissez l'ingr\\xE9dient que vous ne voulez pas avoir dans votre Pizza :\",/*#__PURE__*/_jsxs(\"select\",{value:this.state.value[0],onChange:this.handleChange,children:[/*#__PURE__*/_jsx(\"option\",{selected:true,value:\"Aucun \\xE9l\\xE9ment choisi\",children:\"Aucun\"}),/*#__PURE__*/_jsx(\"option\",{value:\"viande\",children:\"Viande\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Poivrons confits\",children:\"Poivrons\"})]})]}),/*#__PURE__*/_jsx(\"input\",{type:\"submit\",value:\"Envoyer\"})]}),/*#__PURE__*/_jsx(FlexContainer,{children:this.state.PizzasBaseCreme.map(function(Pizzas){return/*#__PURE__*/_jsxs(FlexItem,{id:\"listePizzas\",children:[/*#__PURE__*/_jsxs(FlexItemP,{children:[Pizzas.Nom,\" \"]}),/*#__PURE__*/_jsx(ImagePizza,{children:/*#__PURE__*/_jsx(\"img\",{src:Pizzas.Image})}),/*#__PURE__*/_jsxs(FlexItemI,{children:[\"Ingr\\xE9dients : \",Pizzas.Ingrédients.map(function(Ingred){return\"-\"+Ingred.Ingrédient+\" \";})]}),/*#__PURE__*/_jsxs(FlexItemI,{children:[\"Prix : \",Pizzas.Prix]})]});})})]})})});}}]);return ListePizzas;}(Component);export default ListePizzas;","map":{"version":3,"sources":["/mnt/c/Users/kikim/OneDrive/Bureau/Giuseppe/src/components/ListePizzas/index.js"],"names":["React","Component","BrowserRouter","Router","BodyHomeBody","PageBody","Titre2","FlexContainer","FlexItem","FlexItemP","FlexItemI","ImagePizza","Form","json","rgb","logo","ListePizzas","props","state","PizzasBaseCreme","value","handleChange","bind","handleSubmit","event","copie","target","push","setState","alert","preventDefault","console","log","ajoutListePizza","Ingred","then","base","data","forEach","element","Base","copie2","Contient","Ingrédients","element2","Ingrédient","indexOf","image","Nom","Prix","Image","map","Pizzas"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport { BrowserRouter as Router } from \"react-router-dom\";\r\nimport { BodyHomeBody, PageBody, Titre2, FlexContainer, FlexItem, FlexItemP,FlexItemI,ImagePizza,Form } from './ListePizzas';\r\nimport { json, rgb } from 'd3';\r\nimport logo from '../../images/LogoNatan.jpg';\r\nclass ListePizzas extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n    \r\n        this.handleChange = this.handleChange.bind(this);\r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n      }\r\n    state = {\r\n        PizzasBaseCreme: [],\r\n        value:[\"Aucun élément choisi\"]\r\n    }\r\n    handleChange(event) {\r\n        var copie = [];\r\n        if(event.target.value === \"viande\"){\r\n            copie.push(\"viande\");\r\n            copie.push(\"Jambon\");\r\n            copie.push(\"Lardons\");\r\n            copie.push(\"Poulet\");\r\n            copie.push(\"Poulet Mariné au citron\");\r\n            copie.push(\"Kebab\");\r\n            copie.push(\"Chorizo\");\r\n            copie.push(\"Viande hachée\");\r\n        }else{\r\n            copie.push(event.target.value);\r\n        }\r\n        this.setState({ value: copie });\r\n    }\r\n\r\n    handleSubmit(event) {\r\n        alert('Votre demande a été soumise');\r\n        event.preventDefault();\r\n        console.log(this.state.value);\r\n        this.ajoutListePizza();\r\n    }\r\n    ajoutListePizza(){\r\n        var Ingred= this.state.value;\r\n        json(\"/data/Pizzas.json\").then((value) => {\r\n            var copie = [];\r\n            var base = this.props.data;\r\n            value.forEach(function (element) {\r\n                if(element.Base === base){\r\n                    var copie2 = [];\r\n                    var Contient = 0;\r\n                    element.Ingrédients.forEach(function (element2) {\r\n                        copie2.push({ Ingrédient: element2.Ingrédient });\r\n                        if(Ingred.indexOf(element2.Ingrédient) !== -1)Contient = 1;\r\n                    });\r\n                    let image = logo;\r\n                    if( Contient === 0)\r\n                    {\r\n                        copie.push({ Nom: element.Nom, Ingrédients: copie2,Prix: element.Prix,Image:image});\r\n                    } \r\n                }\r\n            });\r\n            this.setState({ PizzasBaseCreme: copie});\r\n        });\r\n    }\r\n    componentDidMount() {\r\n        this.ajoutListePizza();\r\n    }\r\n    render() {\r\n        return (\r\n            <Router forceRefresh={true}>\r\n                <BodyHomeBody>\r\n                    <PageBody>\r\n                        <Titre2>Nos pizzas disponibles avec une base {this.props.data}</Titre2>\r\n                        <Form onSubmit={this.handleSubmit}>\r\n                            <label>\r\n                                Choisissez l'ingrédient que vous ne voulez pas avoir dans votre Pizza :\r\n                                <select value={this.state.value[0]}  onChange={this.handleChange}>\r\n                                    <option selected value=\"Aucun élément choisi\">Aucun</option>\r\n                                    <option value=\"viande\">Viande</option>\r\n                                    <option value=\"Poivrons confits\">Poivrons</option>\r\n                                </select>\r\n                            </label>\r\n                            <input type=\"submit\" value=\"Envoyer\" />\r\n                        </Form>\r\n                        <FlexContainer>\r\n                            {this.state.PizzasBaseCreme.map(Pizzas => (<FlexItem id=\"listePizzas\"><FlexItemP>{Pizzas.Nom} </FlexItemP>\r\n                                <ImagePizza>\r\n                                    <img src={Pizzas.Image} />\r\n                                </ImagePizza>\r\n                                <FlexItemI>Ingrédients : {Pizzas.Ingrédients.map(Ingred => (\"-\" + Ingred.Ingrédient + \" \"))}</FlexItemI>\r\n                                <FlexItemI>Prix : {Pizzas.Prix}</FlexItemI>\r\n                            </FlexItem>))}\r\n                        </FlexContainer>\r\n                    </PageBody>\r\n                </BodyHomeBody>\r\n            </Router>\r\n        );\r\n    }\r\n}\r\nexport default ListePizzas;\r\n"]},"metadata":{},"sourceType":"module"}